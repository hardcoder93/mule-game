<?xml version="1.0" encoding="UTF-8"?>

<project name="MyProject" default="all" basedir=".">
	<target name="init"  description="Set up all your properties.">
		<property name="src" location="src"/>
		<property name="build" location="build"/>
		<property name="lib"  location="lib"/>
		<property name="apidoc"  location="apidoc"/>
		
		 <!-- include resource.jar to path -->
		<path id="path">
			<fileset dir="lib" includes="resources.jar" />
		</path>
	  </target>

	<target name="prepare" depends="init, clean" 
		description="Make all the required directories.">
		
		<mkdir dir="src" />
		<mkdir dir="build" />
		<mkdir dir="apidoc" />
		<mkdir dir="lib" />
		<mkdir dir="jar.dir"/>
	</target>
	 
	<target name="compile" depends="prepare"
		description="compile the source " >
	    <!-- Compile the java code from ${src} into ${build} -->
	    <javac srcdir="src" destdir="build" classpathref="path"
			includeAntRuntime="false" />
	  </target>

	<target name="javadoc" depends="init">
		<javadoc sourcepath="src" destdir="apidoc">
			<classpath>
				<path refid="path" />
			</classpath>
		</javadoc>
	</target>
	
	<target name="jar" depends="compile">
		<jar destfile="build/AntLabRun.jar" basedir="build"/>
			
	</target>

	<target name="run" depends="jar">	
		<java classname="edu.gatech.oad.antlab.pkg1.AntLabMain">
			<classpath>
				<path refid="path" />
				<path location="build/AntLabRun.jar" />
			</classpath>
		</java>
	</target>

	<target name="all" depends="init,prepare, compile, jar, run, javadoc">
	</target>
		
	<target name="clean"       
		description="remove compiled classes, JARs and javadoc files I created" >
	<!-- Delete the ${build} and ${apidoc} directory trees -->
	    <delete dir="build"/>
	    <delete dir="apidoc"/>
	  </target>
	</project>